{"version":3,"sources":["../../src/routes/index.js"],"names":["require","Router","connection","router","get","req","res","send","module","exports"],"mappings":";;AAAA;;;;;;eAEmBA,QAAQ,SAAR,C;;IAAXC,M,YAAAA,M;;gBACeD,QAAQ,UAAR,C;;IAAfE,U,aAAAA,U;;;AAER,IAAMC,SAASF,QAAf;;AAEAE,OAAOC,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,QAAIC,IAAJ,CAAS,SAAT;AACH,CAFD;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BAC,OAAOC,OAAP,GAAiBN,MAAjB","file":"index.js","sourcesContent":["import firebase from '../libs/firebase';\n\nconst { Router } = require('express');\nconst { connection } = require('mongoose');\n\nconst router = Router();\n\nrouter.get('/', (req, res) => {\n    res.send('welcome');\n});\n\n/**\nrouter.post('/signature', async (req, res) => {\n    try {\n        const Account = connection.model('Account');\n\n        let {uid, displayName} = req.body\n        let acc = await Account.findOne({ uid });\n\n        if (!acc) {\n            acc = await Account.create({ uid });\n            acc.set('displayName', displayName || '路人');\n            acc.set('avatar', `https://mc-heads.net/avatar/${acc._id}/100.png`);\n            acc = await acc.save();\n        }\n\n        let token = firebase.auth().createCustomToken(uid);\n\n        res.send({\n            token: token\n        });\n    } catch (ex) {\n        console.log('exception', ex.message);\n        res.status(500)\n        res.send({\n            message: 'Internal Server Error'\n        });\n    }\n});\n */\n\nmodule.exports = router;"]}